(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7201:(e,t,n)=>{Promise.resolve().then(n.bind(n,8152))},8152:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var l=n(5155),r=n(2115),a=n(1054),s=n(1291),i=n(1348),o=n(6854),c=n(9022);function d(){let e=(0,r.useRef)(null),[t,d]=(0,r.useState)(null),[u,x]=(0,r.useState)(null),[h,m]=(0,r.useState)(null),[p,g]=(0,r.useState)(null),[j,y]=(0,r.useState)(null),[f,b]=(0,r.useState)(!1),[v,w]=(0,r.useState)(null),[A,B]=(0,r.useState)(!1),[N,k]=(0,r.useState)(null),[D,z]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),[R,U]=(0,r.useState)(!1),[L,E]=(0,r.useState)(null),[O,T]=(0,r.useState)(null),{getRootProps:M,getInputProps:P,isDragActive:_}=(0,c.VB)({onDrop:e=>{let t=e[0],n=new FileReader;n.onload=async e=>{e.target&&e.target.result&&(S(new Uint8Array(e.target.result)),E(t.name),T(t.size))},n.readAsArrayBuffer(t)}}),I=async()=>{if(null!=C){b(!0),e.current=new Worker(n.tu(new URL(n.p+n.u(419),n.b)),{type:void 0});let t=Date.now();e.current.onmessage=n=>{var l;let{execution_resources:r,prover_input:a,error:s}=n.data;s?console.error(s):a&&r&&(x(r),d(a)),y(Date.now()-t),null===(l=e.current)||void 0===l||l.terminate(),b(!1)},e.current.postMessage({input:C})}},F=async()=>{if(null!=t){B(!0),e.current=new Worker(n.tu(new URL(n.p+n.u(479),n.b)),{type:void 0});let l=Date.now();e.current.onmessage=t=>{var n;let{value:r,error:a}=t.data;a?console.error(a):r&&m(r),w(Date.now()-l),null===(n=e.current)||void 0===n||n.terminate(),B(!1)},e.current.postMessage({input:t})}},W=async()=>{if(null!=h){z(!0),e.current=new Worker(n.tu(new URL(n.p+n.u(771),n.b)),{type:void 0});let t=Date.now();e.current.onmessage=n=>{var l;let{value:r,error:a}=n.data;a?console.error(a):r&&g(r),k(Date.now()-t),null===(l=e.current)||void 0===l||l.terminate(),z(!1)},e.current.postMessage({input:h})}};return(0,l.jsxs)("div",{className:"grid gap-6 p-4 max-w-[800px] m-auto",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-300",children:"Cairo circuit"}),(0,l.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-300",children:"Run - Prove - Verify"}),(0,l.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-300",children:"STWO STARK demo"}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"cursor-pointer p-10 border-2 rounded-2xl border-dashed border-gray-800 hover:bg",...M(),children:[(0,l.jsx)("input",{className:"w-full",...P()}),null!=L&&null!=O?(0,l.jsxs)("p",{className:"text-center",children:[L," - ",function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=t?1e3:1024;if(Math.abs(e)<l)return e+" B";let r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],a=-1,s=10**n;do e/=l,++a;while(Math.round(Math.abs(e)*s)/s>=l&&a<r.length-1);return e.toFixed(n)+" "+r[a]}(O)]}):_?(0,l.jsx)("p",{className:"text-center",children:"Drop the Cairo PIE here ..."}):(0,l.jsx)("p",{className:"text-center",children:"Drag Cairo PIE here, or click to select files"})]}),(0,l.jsx)(a.A,{sx:{color:"#F2A900",borderColor:"#473200",height:50,"&:hover":{borderColor:"#634500"}},variant:"outlined",size:"small",disabled:R,onClick:async()=>{U(!0);let e=await fetch("pie.zip");if(!e.ok)throw Error("Failed to fetch file: ".concat(e.status," ").concat(e.statusText));let t=await e.arrayBuffer();S(new Uint8Array(t)),E("pie.zip"),T(t.byteLength),U(!1)},children:R?(0,l.jsx)(o.A,{size:24,sx:{color:"#F2A900",animationDuration:"700ms"}}):(0,l.jsx)(s.A,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,l.jsx)(i.A,{variant:"body2",children:"load pie.zip"})})}),(0,l.jsxs)("div",{className:"grid grid-flow-row gap-4",children:[(0,l.jsx)(a.A,{sx:{height:50},variant:"outlined",size:"small",disabled:f,onClick:async()=>{I()},children:f?(0,l.jsx)(o.A,{size:24,sx:{animationDuration:"700ms"}}):(0,l.jsx)(s.A,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,l.jsx)(i.A,{variant:"body2",children:"trace_gen"})})}),(0,l.jsx)("div",{className:"grid justify-center gap-1 text-xs min-h-6",children:null!==j?"Time: ".concat(j/1e3," seconds"):null}),(0,l.jsx)(a.A,{sx:{height:30},variant:"text",size:"small",disabled:null==t,onClick:async()=>{if(null!=t){let e=new Blob([t],{type:"application/json"}),n=window.URL.createObjectURL(e),l=document.createElement("a");l.href=n,l.download="trace.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(n)}},children:"Download Trace"})]}),(0,l.jsxs)("div",{className:"grid grid-flow-row gap-4",children:[(0,l.jsx)(a.A,{sx:{height:50},variant:"outlined",size:"small",disabled:A,onClick:async()=>{F()},children:A?(0,l.jsx)(o.A,{size:24,sx:{animationDuration:"700ms"}}):(0,l.jsx)(s.A,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,l.jsx)(i.A,{variant:"body2",children:"prove"})})}),(0,l.jsx)("div",{className:"grid justify-center gap-1 text-xs min-h-6",children:null!==v?"Time: ".concat(v/1e3," seconds"):null}),(0,l.jsx)(a.A,{sx:{height:30},variant:"text",size:"small",disabled:null==h,onClick:async()=>{if(null!=h){let e=new Blob([h],{type:"application/json"}),t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="proof.json",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t)}},children:"Download Proof"})]}),(0,l.jsxs)("div",{className:"grid grid-flow-row gap-4",children:[(0,l.jsx)(a.A,{sx:{height:50},variant:"outlined",size:"small",color:null==p?"primary":!0==p?"success":"error",disabled:D,onClick:async()=>{W()},children:D?(0,l.jsx)(o.A,{size:24,sx:{animationDuration:"700ms"}}):(0,l.jsx)(s.A,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,l.jsx)(i.A,{variant:"body2",children:null==p?"verify":!0==p?"proof correct":"proof wrong"})})}),(0,l.jsx)("div",{className:"grid justify-center gap-1 text-xs min-h-6",children:null!==N?"Time: ".concat(N/1e3," seconds"):null})]}),(0,l.jsx)("textarea",{className:"bg-gray-900 text-sm resize-both h-20",value:null!=u?u:"",readOnly:!0}),(0,l.jsx)("textarea",{className:"bg-gray-900 text-sm resize-both h-32",value:null!=t?t:"",readOnly:!0}),(0,l.jsx)("textarea",{className:"bg-gray-900 text-sm resize-both h-32",value:null!=h?h:"",readOnly:!0})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[122,441,517,358],()=>t(7201)),_N_E=e.O()}]);